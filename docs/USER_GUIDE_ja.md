# ユーザーガイド

このガイドは、導入された lab-resource-manager システムを使用するユーザー向けのドキュメントです。

## Slackコマンド

システムを使用するには、まず自分のメールアドレスを登録する必要があります。

### 自分のメールアドレスを登録

```
/register-calendar <your-email@example.com>
```

自分のメールアドレスを登録し、Slackアカウントと連携します。これにより、全てのリソースコレクション（GPUサーバー、会議室など）へのアクセス権が付与されます。

**例:**
```
/register-calendar alice@example.com
```

### 他のユーザーを登録（管理者向け）

管理者は、他のユーザーのメールアドレスを代わりに登録できます:

```
/link-user <@slack_user> <email@example.com>
```

**例:**
```
/link-user @bob bob@example.com
```

## リソース予約の構文

### デバイス指定記法

GPUサーバーなどのリソースを予約する際、カレンダーのイベントタイトルで使用するデバイスを指定できます。

#### 基本的な指定方法

- **単一デバイス**: `0` → デバイス0
- **範囲指定**: `0-2` → デバイス0, 1, 2
- **複数指定**: `0,2,5` → デバイス0, 2, 5
- **混在指定**: `0-1,6-7` → デバイス0, 1, 6, 7

#### 予約例

カレンダーイベントのタイトルに以下のように記載します:

```
[GPU 0-2] 機械学習モデルのトレーニング
```

この場合、デバイス0, 1, 2が予約されます。

```
[GPU 0,3,5] データ処理
```

この場合、デバイス0, 3, 5が予約されます。

### 会議室の予約

会議室を予約する場合は、デバイス指定は不要です。通常通りカレンダーにイベントを作成してください。

```
研究室ミーティング
```

## 通知について

### 予約開始時の通知

リソースの予約時刻になると、Slackに通知が送信されます。通知には以下の情報が含まれます:

- 予約者の名前（メールアドレスと連携している場合はメンション付き）
- リソース名（GPUサーバー名、会議室名など）
- 使用デバイス（GPUの場合）
- 予約期間

### メンション機能

メールアドレスを `/register-calendar` コマンドで登録すると、予約通知時に自動的にメンションされます。これにより、
自分の予約開始をすぐに確認できます。

## よくある質問

### Q: メールアドレスの登録は必須ですか？

A: 必須ではありませんが、登録することで以下のメリットがあります:
- リソースコレクション（Google Calendarなど）へのアクセス権が自動付与される
- 予約通知時に自動的にメンションされる

### Q: 複数のメールアドレスを登録できますか？

A: 1つのSlackアカウントに対して1つのメールアドレスのみ登録できます。

### Q: デバイス指定の記法は大文字小文字を区別しますか？

A: いいえ、`[GPU 0-2]` と `[gpu 0-2]` は同じように解釈されます。

### Q: 予約をキャンセルしたい場合は？

A: カレンダーから直接イベントを削除またはキャンセルしてください。システムが自動的に検知します。
